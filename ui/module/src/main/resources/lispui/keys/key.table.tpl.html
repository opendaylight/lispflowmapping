<div>
    <br>
    <button class="btn btn-info add-row" ng-click="loadTable()">{{ 'REFRESH_TABLE' | translate }}</button>
</div>
<table class="footable table">
    <thead>
        <tr>
            <th>{{ 'VNI' | translate }}</th>
            <th>{{ 'EID' | translate }}</th>
            <th>{{ 'KEY_TYPE' | translate }}</th>
            <th>{{ 'AUTH_KEY' | translate }}</th>
            <th>{{ 'ACTIONS' | translate }}</th>
        </tr>
    </thead>
    <tbody>
        <tr ng-hide="data.length > 0">
            <td colspan="5" class="centerAlign">{{ 'NO_KEY' | translate }}</td>
        </tr>
        <tr ng-repeat-start="key in data" node-table>
            <td>{{ key.vni }}</td>
            <td>{{ key['eid-uri'] }}</td>
            <td>{{ key['mapping-authkey']['key-type'] | number }}</td>
            <td>{{ key['mapping-authkey']['key-string'] }}</td>
            <td><i class="icon-eye-open" ng-click="expandSingleRow(key, data, 'detailHide')"> {{ 'VIEW' | translate }}</i> |
                <i class="icon-trash" ng-click="expandSingleRow(key, data, 'deleteHide')"> {{ 'DELETE' | translate }}</i>
            </td>
        </tr>
        <tr ng-hide="key.detailHide" node-table>
            <td colspan="5">
                <div ng-bind-html="key.data"></div>
            </td>
        </tr>
        <tr ng-hide="key.deleteHide" ng-repeat-end node-table>
            <td colspan="5">
                <p>{{ 'ASK_DELETE_KEY' | translate }}</p>
                <button class="btn btn-info add-row" ng-click="deleteKey(key)">{{ 'YES' | translate }}</button>
                <button class="btn btn-info add-row" ng-click="expandSingleRow(key, data, 'deleteHide')">{{ 'NO' | translate }}</button>
            </td>
        </tr>
    </tbody>
    <tfoot class="hide-if-no-paging">
        <tr>
            <td colspan="5">
                <div class="pagination pagination-centered"></div>
            </td>
        </tr>
    </tfoot>
</table>
