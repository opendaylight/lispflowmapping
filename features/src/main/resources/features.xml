<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<features name="lispflowmapping-${project.version}" xmlns="http://karaf.apache.org/xmlns/features/v1.2.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://karaf.apache.org/xmlns/features/v1.2.0 http://karaf.apache.org/xmlns/features/v1.2.0">
    <feature name="odl-lispflowmapping-all" description="OpenDaylight :: LISP Flow Mapping :: all" version='${project.version}'>
        <feature version="${lispflowmapping.version}">odl-lispflowmapping-mappingservice</feature>
        <feature version="${lispflowmapping.version}">odl-lispflowmapping-southbound</feature>
        <!--
            TODO : Enable the northbound feature once AD-SAL NSF & northbound feature works in Controller project.
        <feature version="${lispflowmapping.northbound.version}">odl-lispflowmapping-northbound</feature>
        -->
    </feature>

    <feature name="odl-lispflowmapping-mappingservice" description="OpenDaylight :: LISP Flow Mapping :: Mapping Service" version='${lispflowmapping.version}'>
        <feature>base-all</feature>
        <feature version="${sal.version}">odl-adsal-all</feature>
        <bundle>mvn:org.opendaylight.lispflowmapping/mappingservice.api/${lispflowmapping.version}</bundle>
        <bundle>mvn:org.opendaylight.lispflowmapping/mappingservice.implementation/${lispflowmapping.version}</bundle>
        <bundle>mvn:org.opendaylight.lispflowmapping/mappingservice.clusterdao/${lispflowmapping.version}</bundle>
    </feature>

    <feature name="odl-lispflowmapping-southbound" description="OpenDaylight :: LISP Flow Mapping :: Southbound Plugin" version='${lispflowmapping.version}'>
        <feature version="${lispflowmapping.version}">odl-lispflowmapping-mappingservice</feature>
        <bundle>mvn:org.opendaylight.lispflowmapping/mappingservice.southbound/${lispflowmapping.version}</bundle>
    </feature>
<!--
    ADSAL Northbound and NSFs are not broken into Karaf Features yet.
    Also, the ADSAL Northbound is not modular enough to easily isolate it into bit-sized feature.
    It has a chain of AD-SAL NSF dependencies and hence the Controller project has not completed the AD-SAL karaf version.

    TODO : Enable the northbound feature once AD-SAL northbound feature is working in Controller project.

    <feature name="odl-lispflowmapping-northbound" description="OpenDaylight :: LISP Flow Mapping :: Northbound" version='${lispflowmapping.version}'>
        <feature version="${lispflowmapping.version}">odl-lispflowmapping-mappingservice</feature>
        <bundle>mvn:org.opendaylight.lispflowmapping/mappingservice.northbound/${lispflowmapping.version}</bundle>
    </feature>

-->
</features>
