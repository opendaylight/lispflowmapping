{"id":"c95338f2-909a-33eb-ddae-00a73f57392a","name":"ODL Summit LISP Demo","timestamp":1391168864268,"requests":[{"collectionId":"c95338f2-909a-33eb-ddae-00a73f57392a","id":"0c2e8774-f083-f46e-de75-23fb4dc6c0fd","name":"01. Add key \"asdf\" for 1.1.1.1/32","description":"","url":"http://{{controllerHost}}:{{controllerPort}}/lispflowmapping/nb/v2/{{containerName}}/key","method":"PUT","headers":"Authorization: Basic YWRtaW46YWRtaW4=\nContent-Type: application/json\n","data":"{\n\"key\" : \"asdf\",\n\"maskLength\" : 32,\n\"address\" :\n  {\n  \"ipAddress\" : \"1.1.1.1\",\n  \"afi\" : 1\n  }\n}","dataMode":"raw","timestamp":0,"responses":[],"version":2},{"collectionId":"c95338f2-909a-33eb-ddae-00a73f57392a","id":"0c4baaf2-6722-540a-c818-beadf258574a","name":"06. Add mapping 2.2.2.2/32 (server2)","description":"","url":"http://{{controllerHost}}:{{controllerPort}}/lispflowmapping/nb/v2/{{containerName}}/mapping","method":"PUT","headers":"Authorization: Basic YWRtaW46YWRtaW4=\nContent-Type: application/json\n","data":"{\n\"key\" : \"asdf\",\n\"mapregister\" :\n  {\n  \"proxyMapReply\" : true,\n  \"eidToLocatorRecords\" :\n    [\n      {\n      \"authoritative\" : true,\n      \"prefixGeneric\" :\n        {\n        \"ipAddress\" : \"2.2.2.2\",\n        \"afi\" : 1\n        },\n      \"mapVersion\" : 0,\n      \"maskLength\" : 32,\n      \"action\" : \"NoAction\",\n      \"locators\" :\n        [\n          {\n          \"multicastPriority\" : 1,\n          \"locatorGeneric\" :\n            {\n            \"ipAddress\" : \"10.33.12.44\",\n            \"afi\" : 1\n            },\n          \"routed\" : true,\n          \"multicastWeight\" : 0,\n          \"rlocProbed\" : false,\n          \"localLocator\" : false,\n          \"priority\" : 125,\n          \"weight\" : 1\n          }\n        ],\n      \"recordTtl\" : 5\n      }\n    ],\n  \"keyId\" : 0\n  }\n}","dataMode":"raw","timestamp":0,"version":2,"time":1391539978876},{"collectionId":"c95338f2-909a-33eb-ddae-00a73f57392a","id":"175b0ad1-761a-a706-3afc-dd4d1a8f4473","name":"10. Create br0 on server2","description":"","url":"http://{{controllerHost}}:{{controllerPort}}/controller/nb/v2/networkconfig/bridgedomain/bridge/OVS/server2/br0","method":"POST","headers":"Authorization: Basic YWRtaW46YWRtaW4=\nAccept: application/json\nContent-Type: application/json\n","data":"{}","dataMode":"raw","timestamp":0,"responses":[],"version":2},{"collectionId":"c95338f2-909a-33eb-ddae-00a73f57392a","id":"17e6f9e6-2036-d38b-4b36-7a9ee74f3dae","name":"02. Get mapping for 1.1.1.1/32","description":"","url":"http://{{controllerHost}}:{{controllerPort}}/lispflowmapping/nb/v2/{{containerName}}/mapping/0/1/1.1.1.1/32","method":"GET","headers":"Authorization: Basic YWRtaW46YWRtaW4=\nAccept: application/json\n","data":"{\n\"key\" : \"asdf\",\n\"mapregister\" :\n  {\n  \"proxyMapReply\" : true,\n  \"eidToLocatorRecords\" :\n    [\n      {\n      \"authoritative\" : true,\n      \"prefixGeneric\" :\n        {\n        \"ipAddress\" : \"1.1.1.1\",\n        \"afi\" : 1\n        },\n      \"mapVersion\" : 0,\n      \"maskLength\" : 32,\n      \"action\" : \"NoAction\",\n      \"locators\" :\n        [\n          {\n          \"multicastPriority\" : 1,\n          \"locatorGeneric\" :\n            {\n            \"ipAddress\" : \"10.33.12.37\",\n            \"afi\" : 1\n            },\n          \"routed\" : true,\n          \"multicastWeight\" : 50,\n          \"rlocProbed\" : false,\n          \"localLocator\" : false,\n          \"priority\" : 2,\n          \"weight\" : 1\n          } ,\n          {\n          \"multicastPriority\" : 1,\n          \"locatorGeneric\" :\n            {\n            \"ipAddress\" : \"10.33.12.44\",\n            \"afi\" : 1\n            },\n          \"routed\" : true,\n          \"multicastWeight\" : 50,\n          \"rlocProbed\" : false,\n          \"localLocator\" : false,\n          \"priority\" : 1,\n          \"weight\" : 1\n          }\n        ],\n      \"recordTtl\" : 5\n      }\n    ],\n  \"keyId\" : 0\n  }\n}","dataMode":"raw","timestamp":0,"responses":[],"version":2},{"collectionId":"c95338f2-909a-33eb-ddae-00a73f57392a","id":"43da9c45-4b76-f5e6-6ee3-159951d4f2c0","name":"07. Add ELP map 2.2.2.2/32 (server1)","description":"Two locators, server1 and ELP server2, with service-node in-between, and ELP path having the highest priority","url":"http://{{controllerHost}}:{{controllerPort}}/lispflowmapping/nb/v2/{{containerName}}/mapping","method":"PUT","headers":"Authorization: Basic YWRtaW46YWRtaW4=\nContent-Type: application/json\n","data":"{ \n\"key\" : \"asdf\", \n\"mapregister\" : \n  { \n  \"proxyMapReply\" : true, \n  \"eidToLocatorRecords\" : \n    [ \n      { \n      \"authoritative\" : true, \n      \"prefixGeneric\" : \n        { \n        \"ipAddress\" : \"2.2.2.2\", \n        \"afi\" : 1\n        },\n      \"mapVersion\" : 0, \n      \"maskLength\" : 32, \n      \"action\" : \"NoAction\", \n      \"locators\" : \n        [ \n          { \n          \"multicastPriority\" : 1,\n          \"locatorGeneric\" :\n            {\n            \"ipAddress\" : \"10.33.12.44\",\n            \"afi\" : 1\n            }, \n          \"routed\" : true, \n          \"multicastWeight\" : 0, \n          \"rlocProbed\" : false, \n          \"localLocator\" : false, \n          \"priority\" : 125, \n          \"weight\" : 1\n          },\n          {\n          \"multicastPriority\" : 1,\n          \"locatorGeneric\" :\n            {\n            \"afi\" : 16387,\n            \"lcafType\" : 10,\n            \"hops\" : \n              [\n                {\n                \"lookup\" : false,\n                \"RLOCProbe\" : false,\n                \"strict\" : true,\n                \"address\" :\n                  { \n                 \"ipAddress\" : \"10.33.12.12\",\n                 \"afi\" : 1\n                  }\n                },\n                {\n                \"lookup\" : false,\n                \"RLOCProbe\" : false,\n                \"strict\" : true,\n                \"address\" :\n                  { \n                 \"ipAddress\" : \"10.33.12.37\",\n                 \"afi\" : 1\n                  }\n                }\n              ]\n            },\n          \"routed\" : true,\n          \"multicastWeight\" : 0,\n          \"rlocProbed\" : false,\n          \"localLocator\" : false,\n          \"priority\" : 124,\n          \"weight\" : 1\n          }\n        ], \n      \"recordTtl\" : 5 \n      } \n    ],\n  \"keyId\" : 0 \n  } \n}\n","dataMode":"raw","timestamp":0,"version":2,"time":1391540151077},{"collectionId":"c95338f2-909a-33eb-ddae-00a73f57392a","id":"4b287d0b-66d3-75d7-9563-a4b54b6a10f4","name":"14. Add \"Decap\" flow rule to server2","description":"","url":"http://{{controllerHost}}:{{controllerPort}}/controller/nb/v2/flowprogrammer/{{containerName}}/node/OF/00:00:1a:6c:33:fa:4f:42/staticFlow/Decap","method":"PUT","headers":"Authorization: Basic YWRtaW46YWRtaW4=\nContent-Type: application/json\n","data":"{\n  \"installInHw\": \"true\",\n  \"name\": \"Decap\",\n  \"node\": {\n    \"type\": \"OF\",\n\t\"id\": \"00:00:1a:6c:33:fa:4f:42\"\n  },\n  \"priority\": \"10\",\n  \"dlDst\": \"02:00:00:00:00:00\",\n  \"actions\": [\n    \"SET_DL_DST=00:00:0c:15:c0:a1\",\n    \"OUTPUT=1\"\n  ]\n}","dataMode":"raw","timestamp":0,"version":2,"time":1391610053283},{"collectionId":"c95338f2-909a-33eb-ddae-00a73f57392a","id":"6026905d-0d61-b5f1-bc4d-496614548589","name":"16. List flows on all nodes","description":"","url":"http://{{controllerHost}}:{{controllerPort}}/controller/nb/v2/flowprogrammer/{{containerName}}","method":"GET","headers":"Authorization: Basic YWRtaW46YWRtaW4=\nAccept: application/json\n","data":"{\n  \"installInHw\": \"true\",\n  \"name\": \"Decap\",\n  \"node\": {\n    \"type\": \"OF\",\n\t\"id\": \"00:00:1a:6c:33:fa:4f:42\"\n  },\n  \"priority\": \"10\",\n  \"dlDst\": \"02:00:00:00:00:00\",\n  \"actions\": [\n    \"SET_DL_DST=00:00:0c:15:c0:a1\",\n    \"OUTPUT=1\"\n  ]\n}","dataMode":"raw","timestamp":0,"responses":[],"version":2},{"collectionId":"c95338f2-909a-33eb-ddae-00a73f57392a","id":"6bdb5031-efa8-bd05-0070-51a1ea0ec461","name":"15. Add \"Encap\" flow rule to server2","description":"","url":"http://{{controllerHost}}:{{controllerPort}}/controller/nb/v2/flowprogrammer/{{containerName}}/node/OF/00:00:1a:6c:33:fa:4f:42/staticFlow/Encap","method":"PUT","headers":"Authorization: Basic YWRtaW46YWRtaW4=\nContent-Type: application/json\n","data":"{\n  \"installInHw\": \"true\",\n  \"name\": \"Encap\",\n  \"node\": {\n    \"type\": \"OF\",\n\t\"id\": \"00:00:1a:6c:33:fa:4f:42\"\n  },\n  \"priority\": \"5\",\n  \"ingressPort\": \"1\",\n  \"etherType\": \"0x0800\",\n  \"vlanId\": \"0\",\n  \"nwDst\": \"1.1.1.1/32\",\n  \"actions\": [\n    \"OUTPUT=2\"\n  ]\n}","dataMode":"raw","timestamp":0,"version":2,"time":1391610049130},{"collectionId":"c95338f2-909a-33eb-ddae-00a73f57392a","id":"88946eb4-6b11-6307-5aad-205287992376","name":"05. Get mapping for 2.2.2.2/32","description":"","url":"http://{{controllerHost}}:{{controllerPort}}/lispflowmapping/nb/v2/{{containerName}}/mapping/0/1/2.2.2.2/32","method":"GET","headers":"Authorization: Basic YWRtaW46YWRtaW4=\nAccept: application/json\n","data":"{\n\"key\" : \"asdf\",\n\"mapregister\" :\n  {\n  \"proxyMapReply\" : true,\n  \"eidToLocatorRecords\" :\n    [\n      {\n      \"authoritative\" : true,\n      \"prefixGeneric\" :\n        {\n        \"ipAddress\" : \"2.2.2.2\",\n        \"afi\" : 1\n        },\n      \"mapVersion\" : 0,\n      \"maskLength\" : 32,\n      \"action\" : \"NoAction\",\n      \"locators\" :\n        [\n          {\n          \"multicastPriority\" : 1,\n          \"locatorGeneric\" :\n            {\n            \"ipAddress\" : \"10.33.12.37\",\n            \"afi\" : 1\n            },\n          \"routed\" : true,\n          \"multicastWeight\" : 50,\n          \"rlocProbed\" : false,\n          \"localLocator\" : false,\n          \"priority\" : 1,\n          \"weight\" : 1\n          } ,\n          {\n          \"multicastPriority\" : 1,\n          \"locatorGeneric\" :\n            {\n            \"ipAddress\" : \"10.33.12.44\",\n            \"afi\" : 1\n            },\n          \"routed\" : true,\n          \"multicastWeight\" : 50,\n          \"rlocProbed\" : false,\n          \"localLocator\" : false,\n          \"priority\" : 2,\n          \"weight\" : 1\n          }\n        ],\n      \"recordTtl\" : 5\n      }\n    ],\n  \"keyId\" : 0\n  }\n}","dataMode":"raw","timestamp":0,"responses":[],"version":2},{"collectionId":"c95338f2-909a-33eb-ddae-00a73f57392a","id":"89025f6c-6188-7b79-8097-2acca7c9e445","name":"11. Add tap0 to br0 on server2","description":"","url":"http://{{controllerHost}}:{{controllerPort}}/controller/nb/v2/networkconfig/bridgedomain/port/OVS/server2/br0/tap0","method":"POST","headers":"Authorization: Basic YWRtaW46YWRtaW4=\nAccept: application/json\nContent-Type: application/json\n","data":"{}","dataMode":"raw","timestamp":0,"responses":[],"version":2},{"collectionId":"c95338f2-909a-33eb-ddae-00a73f57392a","id":"9404e742-c887-f2cf-6471-4c03962a925c","name":"13. List nodes connected to the controller","description":"","url":"http://{{controllerHost}}:{{controllerPort}}/controller/nb/v2/connectionmanager/nodes","method":"GET","headers":"Authorization: Basic YWRtaW46YWRtaW4=\nAccept: application/json\n","data":"","dataMode":"raw","timestamp":0,"responses":[],"version":2},{"collectionId":"c95338f2-909a-33eb-ddae-00a73f57392a","id":"95b73555-f1f3-3d44-5c68-2f92afee14c2","name":"04. Add mapping 2.2.2.2/32 (server1)","description":"Two locators, server1 and server2, with server1 having the higher priority","url":"http://{{controllerHost}}:{{controllerPort}}/lispflowmapping/nb/v2/{{containerName}}/mapping","method":"PUT","headers":"Authorization: Basic YWRtaW46YWRtaW4=\nContent-Type: application/json\n","data":"{\n\"key\" : \"asdf\",\n\"mapregister\" :\n  {\n  \"proxyMapReply\" : true,\n  \"eidToLocatorRecords\" :\n    [\n      {\n      \"authoritative\" : true,\n      \"prefixGeneric\" :\n        {\n        \"ipAddress\" : \"2.2.2.2\",\n        \"afi\" : 1\n        },\n      \"mapVersion\" : 0,\n      \"maskLength\" : 32,\n      \"action\" : \"NoAction\",\n      \"locators\" :\n        [\n          {\n          \"multicastPriority\" : 1,\n          \"locatorGeneric\" :\n            {\n            \"ipAddress\" : \"10.33.12.37\",\n            \"afi\" : 1\n            },\n          \"routed\" : true,\n          \"multicastWeight\" : 0,\n          \"rlocProbed\" : false,\n          \"localLocator\" : false,\n          \"priority\" : 126,\n          \"weight\" : 1\n          } ,\n          {\n          \"multicastPriority\" : 1,\n          \"locatorGeneric\" :\n            {\n            \"ipAddress\" : \"10.33.12.44\",\n            \"afi\" : 1\n            },\n          \"routed\" : true,\n          \"multicastWeight\" : 0,\n          \"rlocProbed\" : false,\n          \"localLocator\" : false,\n          \"priority\" : 127,\n          \"weight\" : 1\n          }\n        ],\n      \"recordTtl\" : 5\n      }\n    ],\n  \"keyId\" : 0\n  }\n}","dataMode":"raw","timestamp":0,"version":2,"time":1391539821617},{"collectionId":"c95338f2-909a-33eb-ddae-00a73f57392a","id":"993ac73d-333e-c860-9349-36c87adfb9de","name":"03. Add key \"asdf\" for 2.2.2.2/32","description":"","url":"http://{{controllerHost}}:{{controllerPort}}/lispflowmapping/nb/v2/{{containerName}}/key","method":"PUT","headers":"Authorization: Basic YWRtaW46YWRtaW4=\nContent-Type: application/json\n","data":"{\n\"key\" : \"asdf\",\n\"maskLength\" : 32,\n\"address\" :\n  {\n  \"ipAddress\" : \"2.2.2.2\",\n  \"afi\" : 1\n  }\n}","dataMode":"raw","timestamp":0,"responses":[],"version":2},{"collectionId":"c95338f2-909a-33eb-ddae-00a73f57392a","id":"a4dbac42-58ff-e4bd-1635-ce1b8232da91","name":"12. Add lisp0 to br0 on server2","description":"","url":"http://{{controllerHost}}:{{controllerPort}}/controller/nb/v2/networkconfig/bridgedomain/port/OVS/server2/br0/lisp0","method":"POST","headers":"Authorization: Basic YWRtaW46YWRtaW4=\nAccept: application/json\nContent-Type: application/json\n","data":"{\n  \"type\": \"tunnel\",\n  \"tunnel_type\": \"lisp\",\n  \"dest_ip\": \"10.33.12.35\"\n}","dataMode":"raw","timestamp":0,"version":2,"time":1391617170445},{"collectionId":"c95338f2-909a-33eb-ddae-00a73f57392a","id":"ecf786db-3ed7-9c3f-afa1-de93d93a5446","name":"09. Connect to OVSDB on server2","description":"","url":"http://{{controllerHost}}:{{controllerPort}}/controller/nb/v2/connectionmanager/node/server2/address/{{server2}}/port/{{ovsdbPort}}/","method":"PUT","headers":"Authorization: Basic YWRtaW46YWRtaW4=\nAccept: application/json\n","data":"","dataMode":"raw","timestamp":0,"responses":[],"version":2}]}